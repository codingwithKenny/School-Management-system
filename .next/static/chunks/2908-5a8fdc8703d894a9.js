"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2908],{77711:(e,t,r)=>{r.d(t,{default:()=>n.a});var l=r(21956),n=r.n(l)},76046:(e,t,r)=>{var l=r(66658);r.o(l,"useParams")&&r.d(t,{useParams:function(){return l.useParams}}),r.o(l,"usePathname")&&r.d(t,{usePathname:function(){return l.usePathname}}),r.o(l,"useRouter")&&r.d(t,{useRouter:function(){return l.useRouter}}),r.o(l,"useSelectedLayoutSegments")&&r.d(t,{useSelectedLayoutSegments:function(){return l.useSelectedLayoutSegments}})},75828:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return l.callServer},createServerReference:function(){return a},findSourceMapURL:function(){return n.findSourceMapURL}});let l=r(89603),n=r(33355),a=r(34979).createServerReference},21956:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let l=r(60306)._(r(30580));function n(e,t){var r;let n={};"function"==typeof e&&(n.loader=e);let a={...n,...t};return(0,l.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39827:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let l=r(93719);function n(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(t);return r}},30580:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let l=r(95155),n=r(12115),a=r(39827),o=r(79214);function d(e){return{default:e&&"default"in e?e.default:e}}let s={loader:()=>Promise.resolve(d(()=>null)),loading:null,ssr:!0},c=function(e){let t={...s,...e},r=(0,n.lazy)(()=>t.loader().then(d)),c=t.loading;function i(e){let d=c?(0,l.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,s=!t.ssr||!!t.loading,i=s?n.Suspense:n.Fragment,u=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(o.PreloadChunks,{moduleIds:t.modules}):null,(0,l.jsx)(r,{...e})]}):(0,l.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(r,{...e})});return(0,l.jsx)(i,{...s?{fallback:d}:{},children:u})}return i.displayName="LoadableComponent",i}},79214:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return d}});let l=r(95155),n=r(47650),a=r(75861),o=r(18284);function d(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=a.workAsyncStorage.getStore();if(void 0===r)return null;let d=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;d.push(...t)}}return 0===d.length?null:(0,l.jsx)(l.Fragment,{children:d.map(e=>{let t=r.assetPrefix+"/_next/"+(0,o.encodeURIPath)(e);return e.endsWith(".css")?(0,l.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,n.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},84954:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var l=r(95155),n=r(5565),a=r(12115),o=r(77711),d=r(58549),s=r(62433),c=r(1844),i=r(76046);let u=(0,o.default)(()=>Promise.all([r.e(9606),r.e(3415),r.e(1423),r.e(6352),r.e(2170),r.e(3954)]).then(r.bind(r,53954)),{loadableGenerated:{webpack:()=>[53954]},loading:()=>(0,l.jsx)("h1",{children:"Loading..."})}),f=(0,o.default)(()=>Promise.all([r.e(9606),r.e(3415),r.e(1423),r.e(6352),r.e(2170),r.e(1956)]).then(r.bind(r,1956)),{loadableGenerated:{webpack:()=>[1956]},loading:()=>(0,l.jsx)("h1",{children:"Loading..."})}),h=(0,o.default)(()=>Promise.all([r.e(9606),r.e(1423),r.e(5341)]).then(r.bind(r,45341)),{loadableGenerated:{webpack:()=>[45341]},loading:()=>(0,l.jsx)("h1",{children:"Loading..."})}),p=(0,o.default)(()=>Promise.all([r.e(9606),r.e(5177)]).then(r.bind(r,15177)),{loadableGenerated:{webpack:()=>[15177]},loading:()=>(0,l.jsx)("h1",{children:"Loading..."})}),m=(0,o.default)(()=>Promise.all([r.e(9606),r.e(3415),r.e(1423),r.e(6352),r.e(2170),r.e(3836)]).then(r.bind(r,3836)),{loadableGenerated:{webpack:()=>[3836]},loading:()=>(0,l.jsx)("h1",{children:"Loading..."})}),b={teacher:(e,t,r)=>(0,l.jsx)(u,{type:t,data:r,setOpen:e}),student:(e,t,r)=>(console.log("Data passed to StudentForm:",r),(0,l.jsx)(f,{type:t,data:r,setOpen:e})),subject:(e,t,r)=>(0,l.jsx)(h,{type:t,data:r,setOpen:e}),classTeacher:(e,t,r,n)=>(0,l.jsx)(p,{type:t,data:r,memoizedClasses:n||[],setOpen:e}),admin:(e,t)=>(0,l.jsx)(m,{type:e,data:t})},g={teacher:d.q,student:s.L,subject:c.g},x=e=>{var t;let{table:r,type:o,data:d,id:s,memoizedClasses:c}=e,u="create"===o?"w-7 h-7":"w-8 h-8",[f,h]=(0,a.useState)(!1),[p,m]=(0,a.useState)({success:!1,error:!1}),x=(0,i.useRouter)(),j=async()=>{if(!s)return console.error("No ID provided for ".concat(r," deletion."));try{console.log("Deleting ".concat(r," with ID:"),s);let e=g[r];if(!e)return console.error("No delete function for ".concat(r,"."));(await e(s)).success?(console.log("".concat(r.charAt(0).toUpperCase()+r.slice(1)," successfully deleted.")),m({success:!0,error:!1}),h(!1),x.refresh()):(console.error("Failed to delete ".concat(r,".")),m({success:!1,error:!0}))}catch(e){console.error("Error deleting ".concat(r,":"),e),m({success:!1,error:!0})}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{className:"".concat(u," rounded-full flex items-center justify-center"),style:{backgroundColor:"create"===o?"#FAE27C":"update"===o?"#C3EBFA":"#CFCEFF"},onClick:()=>h(!0),children:(0,l.jsx)(n.default,{src:"/".concat(o,".png"),alt:"",width:16,height:16})}),f&&(0,l.jsx)("div",{className:"w-screen h-screen absolute top-0 left-0 bg-black bg-opacity-60 z-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"rounded-md bg-white p-4 relative w-[90%] md:w-[70%] lg:w-[60%] xl:w-[50%] 2xl:w-[40%]",children:["delete"===o&&s?(0,l.jsxs)("div",{className:"p-4 flex flex-col gap-4",children:[(0,l.jsxs)("span",{className:"text-center font-medium",children:["This ",r," will be deactivated. Are you sure?"]}),(0,l.jsx)("button",{className:"bg-red-500 text-white py-2 px-4 rounded-md border-none self-center w-max",onClick:j,children:"Delete"}),p.error&&(0,l.jsx)("p",{className:"text-red-500 text-center",children:"Failed to delete. Try again."})]}):(null===(t=b[r])||void 0===t?void 0:t.call(b,h,o,d,c))||(0,l.jsx)("h1",{children:"Invalid Form"}),(0,l.jsx)("div",{className:"absolute top-12 right-4 cursor-pointer",onClick:()=>h(!1),children:(0,l.jsx)(n.default,{src:"/close.png",alt:"Close",width:10,height:10})})]})})]})}},70325:(e,t,r)=>{r.d(t,{default:()=>a});var l=r(95155),n=r(76046);r(12115);let a=e=>{let{page:t,count:r}=e,a=(0,n.useRouter)(),o=e=>{let t=new URLSearchParams(window.location.search);t.set("page",e.toString());let r="".concat(window.location.pathname,"?").concat(t.toString());a.push(r)};return(0,l.jsxs)("div",{className:"p-4 flex items-center justify-center gap-5 text-gray-500",children:[(0,l.jsx)("button",{disabled:!(10*(t-1)>0),className:"py-2 px-4 rounded-md bg-slate-200 disabled:opacity-50 disable:cursor-not-allowed",onClick:()=>{o(t-1)},children:"Prev"}),(0,l.jsx)("div",{className:"flex items-center gap-2 text-sm",children:Array.from({length:Math.ceil(r/10)},(e,r)=>{let n=r+1;return(0,l.jsx)("button",{className:"px-2 rounded-sm  ".concat(t===n?"bg-[#C3EBFA]":""),onClick:()=>{o(n)},children:n},n)})}),(0,l.jsx)("button",{className:"py-2 px-4 rounded-md bg-slate-200 disabled:opacity-50 disable:cursor-not-allowed",onClick:()=>{o(t+1)},disabled:!(10*t<r),children:"Next"})]})}},59387:(e,t,r)=>{r.d(t,{default:()=>o});var l=r(95155),n=r(5565),a=r(76046);r(12115);let o=()=>{let e=(0,a.useRouter)();return(0,l.jsxs)("form",{onSubmit:t=>{t.preventDefault();let r=t.currentTarget[0].value,l=new URLSearchParams(window.location.search);l.set("search",r);let n="".concat(window.location.pathname,"?").concat(l.toString());e.push(n)},className:"w-full md:w-auto flex items-center gap-2 text-xs bg-white p-2 rounded-full ring-[1.5px] ring-grey-300",children:[(0,l.jsx)(n.default,{src:"/search.png",alt:"Search Icon",width:14,height:14}),(0,l.jsx)("input",{type:"text",placeholder:"Search...",className:"outline-none text-sm w-full placeholder-gray-500"})]})}},62433:(e,t,r)=>{r.d(t,{L:()=>n});var l=r(75828);let n=(0,l.createServerReference)("7f2303b054e6e0cb315ec5c1d9aa5d52ec27c8241d",l.callServer,void 0,l.findSourceMapURL,"deleteStudent")},1844:(e,t,r)=>{r.d(t,{g:()=>n});var l=r(75828);let n=(0,l.createServerReference)("7fe1331afc087c56e2cdd1483c6d40ec0634d1df29",l.callServer,void 0,l.findSourceMapURL,"deleteSubject")},58549:(e,t,r)=>{r.d(t,{q:()=>n});var l=r(75828);let n=(0,l.createServerReference)("7ffbcf8ec68b2cfdb180be3e72c5e455ffa9f249ff",l.callServer,void 0,l.findSourceMapURL,"deleteTeacher")}}]);