(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2162],{32627:(e,t,r)=>{Promise.resolve().then(r.bind(r,66515))},19173:(e,t,r)=>{"use strict";r.d(t,{PromisifiedAuthProvider:()=>o,d:()=>d});var s=r(74378),n=r(33659),a=r(68766),u=r(12115);let l=u.createContext(null);function o(e){let{authPromise:t,children:r}=e;return u.createElement(l.Provider,{value:t},r)}function d(){let e=(0,a.useRouter)(),t=u.useContext(l),r=t;return(t&&"then"in t&&(r=u.use(t)),"undefined"!=typeof window)?(0,s.As)(r):e?(0,s.As)():(0,n.hP)(r)}},68766:(e,t,r)=>{e.exports=r(77259)},77259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useRouter",{enumerable:!0,get:function(){return a}});let s=r(12115),n=r(63576);function a(){return(0,s.useContext)(n.RouterContext)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},63576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return s}});let s=r(60306)._(r(12115)).default.createContext(null)},66515:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(95155),n=r(19173),a=r(74378),u=r(76046),l=r(12115);function o(){let{isSignedIn:e}=(0,n.d)(),{isLoaded:t,signIn:r}=(0,a.go)(),o=(0,u.useRouter)(),[d,i]=(0,l.useState)(""),[c,f]=(0,l.useState)(""),[p,v]=(0,l.useState)(""),[h,m]=(0,l.useState)(!1),[g,b]=(0,l.useState)("");async function y(e){if(e.preventDefault(),t)try{await r.create({strategy:"reset_password_email_code",identifier:d}),m(!0),b("")}catch(e){var s,n;console.error(JSON.stringify(e,null,2)),b((null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(s=n[0])||void 0===s?void 0:s.message)||(null==e?void 0:e.message)||"Failed to send verification code.")}}async function w(e){if(e.preventDefault(),t)try{let e=await r.attemptFirstFactor({strategy:"reset_password_email_code",code:c,password:p});"complete"===e.status&&(alert("Password reset successful! You can now sign in."),o.push("/sign-in"))}catch(e){var s,n;b((null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(s=n[0])||void 0===s?void 0:s.message)||(null==e?void 0:e.message)||"Failed to reset password.")}}return(0,l.useEffect)(()=>{e&&o.push("/welcome")},[e,o]),(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"w-full max-w-md p-6 bg-white rounded-lg shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-center mb-4",children:h?"Enter Reset Code":"Reset Password"}),(0,s.jsxs)("form",{onSubmit:h?w:y,className:"space-y-4",children:[h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"text",placeholder:"Enter verification code",value:c,onChange:e=>f(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded"}),(0,s.jsx)("input",{type:"password",placeholder:"Enter new password",value:p,onChange:e=>v(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}):(0,s.jsx)("input",{type:"email",placeholder:"Enter your email",value:d,onChange:e=>i(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded"}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md",children:h?"Reset Password":"Verify"})]}),g&&(0,s.jsx)("p",{className:"text-red-500 text-center mt-2",children:g})]})})}},33659:(e,t,r)=>{"use strict";r.d(t,{T5:()=>n.T5,hP:()=>s.hP,nO:()=>n.nO,yC:()=>a});var s=r(86123),n=r(81971);function a(e,t,r){let n=t.path||(null==r?void 0:r.path);return"path"===(t.routing||(null==r?void 0:r.routing)||"path")?n?{...r,...t,routing:"path"}:s.sb.throw((0,s.kd)(e)):t.path?s.sb.throw((0,s.s7)(e)):{...r,...t,path:void 0}}}},e=>{var t=t=>e(e.s=t);e.O(0,[921,8441,1517,7358],()=>t(32627)),_N_E=e.O()}]);