(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6138],{89147:(e,s,t)=>{Promise.resolve().then(t.bind(t,48811))},75828:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{callServer:function(){return r.callServer},createServerReference:function(){return a},findSourceMapURL:function(){return l.findSourceMapURL}});let r=t(89603),l=t(33355),a=t(34979).createServerReference},59647:(e,s,t)=>{"use strict";t.d(s,{DatabaseProvider:()=>c,t:()=>i});var r=t(95155),l=t(12115),a=t(75828);let n=(0,a.createServerReference)("008a7ca980c81f6515d34e48945911d00e5f7e24e0",a.callServer,void 0,a.findSourceMapURL,"getDatabaseData"),d=(0,l.createContext)(),c=e=>{let{children:s}=e,[t,a]=(0,l.useState)({sessions:[],grades:[],classes:[],subjects:[],parents:[],teachers:[],term:[],paymentHistory:[],studentHistory:[],student:[]}),[c,i]=(0,l.useState)(!0),[o,u]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async function(){console.log("\uD83D\uDFE1 Fetching database data...");let e=await n();e.success?a(e.data):u(e.error),i(!1)})()},[]),(0,r.jsx)(d.Provider,{value:{databaseData:t,loading:c,error:o},children:s})},i=()=>(0,l.useContext)(d)},48811:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});var r=t(95155),l=t(12115),a=t(59647);let n=e=>{let{allResult:s,sessions:t,subject:n}=e,[d,c]=(0,l.useState)(""),[i,o]=(0,l.useState)(""),[u,m]=(0,l.useState)(""),[b,x]=(0,l.useState)([]),{databaseData:h}=(0,a.t)(),[p,j]=(0,l.useState)(!1),f=h.grades||[],N=h.studentHistory.map(e=>e.results),g=t.find(e=>e.id===Number(d)),v=g?g.terms:[],y=()=>{if(j(!0),d&&i&&u){let e=s.data.filter(e=>e.sessionId===Number(d)&&e.termId===Number(i)&&e.subjectId===Number(u));x((0===e.length?N.find(e=>e.some(e=>e.sessionId===Number(d)&&e.termId===Number(i)&&e.subjectId===Number(u))):e)||[])}j(!1)};return(0,r.jsxs)("div",{className:"px-6 py-8 max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between gap-8",children:[(0,r.jsxs)("div",{className:"w-full sm:w-1/3 text-center",children:[(0,r.jsx)("label",{htmlFor:"session",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Session"}),(0,r.jsxs)("select",{id:"session",className:"block w-full p-2.5 border rounded-lg mt-2 text-sm focus:ring-2 focus:ring-blue-600 focus:outline-none",value:d,onChange:e=>{c(e.target.value),y()},children:[(0,r.jsx)("option",{value:"",children:"-- Select Session --"}),t.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),d&&v.length>0&&(0,r.jsxs)("div",{className:"w-full sm:w-1/3 text-center",children:[(0,r.jsx)("label",{htmlFor:"term",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Term"}),(0,r.jsxs)("select",{id:"term",className:"block w-full p-2.5 border rounded-lg mt-2 text-sm focus:ring-2 focus:ring-blue-600 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",value:i,onChange:e=>{o(e.target.value),y()},children:[(0,r.jsx)("option",{value:"",children:"-- Select Term --"}),v.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"w-full sm:w-1/3 text-center",children:[(0,r.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Subject"}),(0,r.jsxs)("select",{id:"subject",className:"block w-full p-2.5 border rounded-lg mt-2 text-sm focus:ring-2 focus:ring-blue-600 focus:outline-none",value:u,onChange:e=>{m(e.target.value),y()},children:[(0,r.jsx)("option",{value:"",children:"-- Select Subject --"}),n.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{onClick:y,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none",children:p?"loading Results":"Load Results"})}),(0,r.jsx)("div",{className:"mt-6",children:f.map(e=>{let s=b.filter(s=>s.gradeId===e.id);return s.length>0?(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:e.name}),(0,r.jsxs)("table",{className:"min-w-full table-auto border-collapse shadow-md rounded-lg",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-200 text-sm font-semibold text-gray-700",children:[(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Student Name"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"First CA"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Second CA"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Exam"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Grade"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Session"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Term"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Subject"})]})}),(0,r.jsx)("tbody",{className:"text-sm text-gray-600",children:s.map((s,t)=>{var l;return(0,r.jsxs)("tr",{className:"hover:bg-gray-100 ".concat(t%2==0?"bg-white":"bg-gray-50"),children:[(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:s.student.name}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:s.firstAssessment}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:s.secondAssessment}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:s.examScore}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:e.name}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:null==g?void 0:g.name}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:s.term.name}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:null===(l=n.find(e=>e.id===s.subjectId))||void 0===l?void 0:l.name})]},s.id)})})]})]},e.id):null})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[8441,1517,7358],()=>s(89147)),_N_E=e.O()}]);