(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8300],{91898:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,87970,23)),Promise.resolve().then(r.bind(r,84954))},77711:(e,t,r)=>{"use strict";r.d(t,{default:()=>l.a});var n=r(21956),l=r.n(n)},76046:(e,t,r)=>{"use strict";var n=r(66658);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSelectedLayoutSegments")&&r.d(t,{useSelectedLayoutSegments:function(){return n.useSelectedLayoutSegments}})},75828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return n.callServer},createServerReference:function(){return a},findSourceMapURL:function(){return l.findSourceMapURL}});let n=r(89603),l=r(33355),a=r(34979).createServerReference},21956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=r(60306)._(r(30580));function l(e,t){var r;let l={};"function"==typeof e&&(l.loader=e);let a={...l,...t};return(0,n.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let n=r(93719);function l(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return r}},30580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let n=r(95155),l=r(12115),a=r(39827),s=r(79214);function o(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let t={...d,...e},r=(0,l.lazy)(()=>t.loader().then(o)),c=t.loading;function u(e){let o=c?(0,n.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,d=!t.ssr||!!t.loading,u=d?l.Suspense:l.Fragment,i=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(u,{...d?{fallback:o}:{},children:i})}return u.displayName="LoadableComponent",u}},79214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return o}});let n=r(95155),l=r(47650),a=r(75861),s=r(18284);function o(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=a.workAsyncStorage.getStore();if(void 0===r)return null;let o=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;o.push(...t)}}return 0===o.length?null:(0,n.jsx)(n.Fragment,{children:o.map(e=>{let t=r.assetPrefix+"/_next/"+(0,s.encodeURIPath)(e);return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,l.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},84954:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var n=r(95155),l=r(5565),a=r(12115),s=r(77711),o=r(58549),d=r(62433),c=r(1844),u=r(76046);let i=(0,s.default)(()=>Promise.all([r.e(9606),r.e(3415),r.e(1423),r.e(6352),r.e(2170),r.e(3954)]).then(r.bind(r,53954)),{loadableGenerated:{webpack:()=>[53954]},loading:()=>(0,n.jsx)("h1",{children:"Loading..."})}),f=(0,s.default)(()=>Promise.all([r.e(9606),r.e(3415),r.e(1423),r.e(6352),r.e(2170),r.e(1956)]).then(r.bind(r,1956)),{loadableGenerated:{webpack:()=>[1956]},loading:()=>(0,n.jsx)("h1",{children:"Loading..."})}),h=(0,s.default)(()=>Promise.all([r.e(9606),r.e(1423),r.e(5341)]).then(r.bind(r,45341)),{loadableGenerated:{webpack:()=>[45341]},loading:()=>(0,n.jsx)("h1",{children:"Loading..."})}),p=(0,s.default)(()=>Promise.all([r.e(9606),r.e(5177)]).then(r.bind(r,15177)),{loadableGenerated:{webpack:()=>[15177]},loading:()=>(0,n.jsx)("h1",{children:"Loading..."})}),b=(0,s.default)(()=>Promise.all([r.e(9606),r.e(3415),r.e(1423),r.e(6352),r.e(2170),r.e(3836)]).then(r.bind(r,3836)),{loadableGenerated:{webpack:()=>[3836]},loading:()=>(0,n.jsx)("h1",{children:"Loading..."})}),m={teacher:(e,t,r)=>(0,n.jsx)(i,{type:t,data:r,setOpen:e}),student:(e,t,r)=>(console.log("Data passed to StudentForm:",r),(0,n.jsx)(f,{type:t,data:r,setOpen:e})),subject:(e,t,r)=>(0,n.jsx)(h,{type:t,data:r,setOpen:e}),classTeacher:(e,t,r,l)=>(0,n.jsx)(p,{type:t,data:r,memoizedClasses:l||[],setOpen:e}),admin:(e,t)=>(0,n.jsx)(b,{type:e,data:t})},g={teacher:o.q,student:d.L,subject:c.g},j=e=>{var t;let{table:r,type:s,data:o,id:d,memoizedClasses:c}=e,i="create"===s?"w-7 h-7":"w-8 h-8",[f,h]=(0,a.useState)(!1),[p,b]=(0,a.useState)({success:!1,error:!1}),j=(0,u.useRouter)(),x=async()=>{if(!d)return console.error("No ID provided for ".concat(r," deletion."));try{console.log("Deleting ".concat(r," with ID:"),d);let e=g[r];if(!e)return console.error("No delete function for ".concat(r,"."));(await e(d)).success?(console.log("".concat(r.charAt(0).toUpperCase()+r.slice(1)," successfully deleted.")),b({success:!0,error:!1}),h(!1),j.refresh()):(console.error("Failed to delete ".concat(r,".")),b({success:!1,error:!0}))}catch(e){console.error("Error deleting ".concat(r,":"),e),b({success:!1,error:!0})}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"".concat(i," rounded-full flex items-center justify-center"),style:{backgroundColor:"create"===s?"#FAE27C":"update"===s?"#C3EBFA":"#CFCEFF"},onClick:()=>h(!0),children:(0,n.jsx)(l.default,{src:"/".concat(s,".png"),alt:"",width:16,height:16})}),f&&(0,n.jsx)("div",{className:"w-screen h-screen absolute top-0 left-0 bg-black bg-opacity-60 z-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"rounded-md bg-white p-4 relative w-[90%] md:w-[70%] lg:w-[60%] xl:w-[50%] 2xl:w-[40%]",children:["delete"===s&&d?(0,n.jsxs)("div",{className:"p-4 flex flex-col gap-4",children:[(0,n.jsxs)("span",{className:"text-center font-medium",children:["This ",r," will be deactivated. Are you sure?"]}),(0,n.jsx)("button",{className:"bg-red-500 text-white py-2 px-4 rounded-md border-none self-center w-max",onClick:x,children:"Delete"}),p.error&&(0,n.jsx)("p",{className:"text-red-500 text-center",children:"Failed to delete. Try again."})]}):(null===(t=m[r])||void 0===t?void 0:t.call(m,h,s,o,c))||(0,n.jsx)("h1",{children:"Invalid Form"}),(0,n.jsx)("div",{className:"absolute top-12 right-4 cursor-pointer",onClick:()=>h(!1),children:(0,n.jsx)(l.default,{src:"/close.png",alt:"Close",width:10,height:10})})]})})]})}},62433:(e,t,r)=>{"use strict";r.d(t,{L:()=>l});var n=r(75828);let l=(0,n.createServerReference)("7f2303b054e6e0cb315ec5c1d9aa5d52ec27c8241d",n.callServer,void 0,n.findSourceMapURL,"deleteStudent")},1844:(e,t,r)=>{"use strict";r.d(t,{g:()=>l});var n=r(75828);let l=(0,n.createServerReference)("7fe1331afc087c56e2cdd1483c6d40ec0634d1df29",n.callServer,void 0,n.findSourceMapURL,"deleteSubject")},58549:(e,t,r)=>{"use strict";r.d(t,{q:()=>l});var n=r(75828);let l=(0,n.createServerReference)("7ffbcf8ec68b2cfdb180be3e72c5e455ffa9f249ff",n.callServer,void 0,n.findSourceMapURL,"deleteTeacher")}},e=>{var t=t=>e(e.s=t);e.O(0,[5565,8441,1517,7358],()=>t(91898)),_N_E=e.O()}]);