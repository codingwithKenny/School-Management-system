(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4330],{9882:(e,t,s)=>{Promise.resolve().then(s.bind(s,6293))},6293:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(95155),l=s(12115),r=s(74378),n=s(77164),d=s(77998),i=s(5565),c=s(76046);let o=()=>{let[e,t]=(0,l.useState)(!1),[s,o]=(0,l.useState)(""),[x,u]=(0,l.useState)(""),{signIn:m,isLoaded:g}=(0,r.go)(),{user:p}=(0,r.Jd)(),h=(0,c.useRouter)(),[f,j]=(0,l.useState)(null);(0,l.useEffect)(()=>{p&&j(p.publicMetadata.role||"dashboard")},[p]);let N=async e=>{if(e.preventDefault(),g){t(!0);try{let e=await m.create({identifier:s,password:x});if("complete"===e.status){let e=(null==p?void 0:p.publicMetadata.role)||"dashboard";h.push("/".concat(e))}}catch(e){var a,l;console.error("Login failed:",(null===(l=e.errors)||void 0===l?void 0:null===(a=l[0])||void 0===a?void 0:a.message)||"Something went wrong")}finally{t(!1)}}};return(0,a.jsx)("div",{className:"h-screen flex items-center justify-center bg-purple-50",children:(0,a.jsx)(d.bL,{fallbackRedirectUrl:"/".concat(f||"/sign-in"),children:(0,a.jsxs)(n.pQ,{name:"start",className:"bg-white p-12 rounded-md shadow-2xl flex flex-col gap-2",onSubmit:N,children:[(0,a.jsxs)("h1",{className:"text-xl font-bold flex items-center gap-2",children:[(0,a.jsx)(i.default,{src:"/logo.png",alt:"E-Portal Logo",width:38,height:38}),"E-Portal"]}),(0,a.jsx)("h2",{className:"text-gray-400 mt-2",children:"Sign in to your account"}),(0,a.jsx)(n.MR,{className:"text-sm text-red-400"}),(0,a.jsxs)(n.D0,{name:"identifier",className:"flex flex-col gap-2",children:[(0,a.jsx)(n.JU,{className:"text-xs text-gray-500 mt-2",children:"Username or Email"}),(0,a.jsx)(n.pd,{type:"text",required:!0,value:s,onChange:e=>o(e.target.value),className:"p-2 rounded-md ring-1 ring-gray-300"}),(0,a.jsx)(n.bg,{className:"text-xs text-red-400"})]}),(0,a.jsxs)(n.D0,{name:"password",className:"flex flex-col gap-2",children:[(0,a.jsx)(n.JU,{className:"text-xs text-gray-500",children:"Password"}),(0,a.jsx)(n.pd,{type:"password",required:!0,value:x,onChange:e=>u(e.target.value),className:"p-2 rounded-md ring-1 ring-purple-300"}),(0,a.jsx)(n.bg,{className:"text-xs text-red-400"})]}),(0,a.jsx)(d.rc,{submit:!0,disabled:e,className:"bg-purple-400 text-white my-1 rounded-md text-sm p-[10px] ".concat(e?"opacity-50 cursor-not-allowed":""),children:e?"Signing in...":"Sign In"}),(0,a.jsx)("div",{className:"text-right mt-2",children:(0,a.jsx)("a",{href:"/forgot-password",className:"text-sm text-purple-500",children:"Forgot your password?"})})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5565,921,7998,8441,1517,7358],()=>t(9882)),_N_E=e.O()}]);