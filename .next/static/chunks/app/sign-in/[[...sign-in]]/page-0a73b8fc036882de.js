(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4330],{9882:(e,t,s)=>{Promise.resolve().then(s.bind(s,6293))},6293:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(95155),a=s(12115),l=s(74378),d=s(76046);let n=()=>{let[e,t]=(0,a.useState)(!1),{signIn:s,isLoaded:n,setActive:i}=(0,l.go)(),{isSignedIn:o,user:c}=(0,l.Jd)(),u=(0,d.useRouter)();(0,a.useEffect)(()=>{if(o&&c){var e;let t=(null===(e=c.publicMetadata)||void 0===e?void 0:e.role)||"dashboard";u.push("/".concat(t))}},[o,c,u]);let m=async e=>{if(e.preventDefault(),!n)return;t(!0);let r=new FormData(e.target),a=r.get("identifier"),l=r.get("password");try{let e=await s.create({identifier:a,password:l});"complete"===e.status&&await i({session:e.createdSessionId})}catch(e){var d,o;console.error("Login failed:",(null===(o=e.errors)||void 0===o?void 0:null===(d=o[0])||void 0===d?void 0:d.message)||"Something went wrong")}finally{t(!1)}};return(0,r.jsx)("div",{className:"h-screen flex items-center justify-center bg-purple-50",children:(0,r.jsxs)("div",{className:"bg-white p-12 rounded-md shadow-lg w-96",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-center mb-4",children:"E-Portal"}),(0,r.jsx)("h2",{className:"text-gray-500 text-center mb-6",children:"Sign in to your account"}),(0,r.jsxs)("form",{onSubmit:m,className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-500",children:"Username or Email"}),(0,r.jsx)("input",{type:"text",name:"identifier",required:!0,className:"w-full p-2 rounded-md border border-gray-300"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-500",children:"Password"}),(0,r.jsx)("input",{type:"password",name:"password",required:!0,className:"w-full p-2 rounded-md border border-gray-300"})]}),(0,r.jsx)("button",{type:"submit",disabled:e,className:"w-full bg-purple-500 text-white py-2 rounded-md ".concat(e?"opacity-50 cursor-not-allowed":""),children:e?"Signing in...":"Sign In"})]}),(0,r.jsx)("div",{className:"text-center mt-4",children:(0,r.jsx)("a",{href:"/forgot-password",className:"text-sm text-purple-500",children:"Forgot your password?"})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[921,8441,1517,7358],()=>t(9882)),_N_E=e.O()}]);