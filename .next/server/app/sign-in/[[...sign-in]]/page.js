(()=>{var e={};e.id=4330,e.ids=[4330],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},77598:e=>{"use strict";e.exports=require("node:crypto")},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},84318:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(70260),a=t(28203),n=t(25155),i=t.n(n),o=t(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["sign-in",{children:["[[...sign-in]]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9741)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\sign-in\\[[...sign-in]]\\page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,62804)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\sign-in\\[[...sign-in]]\\page.js"],p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/sign-in/[[...sign-in]]/page",pathname:"/sign-in/[[...sign-in]]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},75915:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"7f4c81e4f88a4593557ff73a16dccd36a3c0a43608":()=>s.at,"7fc1564f9f187f9387f2640b2e72550bbd84045b50":()=>s.ai,"7fce00a2765bdb3126fc558cb3af443cd7608f815e":()=>s.ot});var s=t(40749)},13895:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"008a7ca980c81f6515d34e48945911d00e5f7e24e0":()=>a.G,"7f622efa3205faf39dde65da00c21142a5fee95a5a":()=>s.y});var s=t(39675),a=t(95638)},47478:(e,r,t)=>{Promise.resolve().then(t.bind(t,9741))},42750:(e,r,t)=>{Promise.resolve().then(t.bind(t,51737))},51737:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(45512),a=t(58009),n=t(53896),i=t(79334);let o=()=>{let[e,r]=(0,a.useState)(!1),{signIn:t,isLoaded:o,setActive:l}=(0,n.go)(),{isSignedIn:d,user:c}=(0,n.Jd)(),p=(0,i.useRouter)();(0,a.useEffect)(()=>{if(d&&c){let e=c.publicMetadata?.role||"dashboard";p.push(`/${e}`)}},[d,c,p]);let u=async e=>{if(e.preventDefault(),!o)return;r(!0);let s=new FormData(e.target),a=s.get("identifier"),n=s.get("password");try{let e=await t.create({identifier:a,password:n});"complete"===e.status&&await l({session:e.createdSessionId})}catch(e){console.error("Login failed:",e.errors?.[0]?.message||"Something went wrong")}finally{r(!1)}};return(0,s.jsx)("div",{className:"h-screen flex items-center justify-center bg-purple-50",children:(0,s.jsxs)("div",{className:"bg-white p-12 rounded-md shadow-lg w-96",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-center mb-4",children:"E-Portal"}),(0,s.jsx)("h2",{className:"text-gray-500 text-center mb-6",children:"Sign in to your account"}),(0,s.jsxs)("form",{onSubmit:u,className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-500",children:"Username or Email"}),(0,s.jsx)("input",{type:"text",name:"identifier",required:!0,className:"w-full p-2 rounded-md border border-gray-300"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-gray-500",children:"Password"}),(0,s.jsx)("input",{type:"password",name:"password",required:!0,className:"w-full p-2 rounded-md border border-gray-300"})]}),(0,s.jsx)("button",{type:"submit",disabled:e,className:`w-full bg-purple-500 text-white py-2 rounded-md ${e?"opacity-50 cursor-not-allowed":""}`,children:e?"Signing in...":"Sign In"})]}),(0,s.jsx)("div",{className:"text-center mt-4",children:(0,s.jsx)("a",{href:"/forgot-password",className:"text-sm text-purple-500",children:"Forgot your password?"})})]})})}},9741:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\Programing\\\\School Management System\\\\school\\\\src\\\\app\\\\sign-in\\\\[[...sign-in]]\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\sign-in\\[[...sign-in]]\\page.js","default")},70440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[5994,2761,9187,7989,8077,1237],()=>t(84318));module.exports=s})();