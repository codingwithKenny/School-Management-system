(()=>{var e={};e.id=1917,e.ids=[1917],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},37630:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>u,routeModule:()=>c,serverHooks:()=>l,workAsyncStorage:()=>i,workUnitAsyncStorage:()=>d});var r=s(42706),a=s(28203),n=s(45994),o=s(31072);let c=new r.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/getDatabaseData/route",pathname:"/api/getDatabaseData",filename:"route",bundlePath:"app/api/getDatabaseData/route"},resolvedPagePath:"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\api\\getDatabaseData\\route.js",nextConfigOutput:"",userland:o}),{workAsyncStorage:i,workUnitAsyncStorage:d,serverHooks:l}=c;function u(){return(0,n.patchFetch)({workAsyncStorage:i,workUnitAsyncStorage:d})}},64320:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"008a7ca980c81f6515d34e48945911d00e5f7e24e0":()=>a.G,"00f9076d0cca44c2e2d4e1b6823b0a5baf40c7bb2a":()=>r.GET});var r=s(31072),a=s(87153)},96487:()=>{},78335:()=>{},42706:(e,t,s)=>{"use strict";e.exports=s(44870)},87153:(e,t,s)=>{"use strict";s.d(t,{G:()=>o});var r=s(88977);s(98063);var a=s(84574),n=s.n(a);async function o(){try{console.log("\uD83D\uDFE1 Fetching database data...");let[e,t,s,r,a,o,c,i,d,l,u]=await Promise.all([n().session.findMany({select:{id:!0,name:!0,isCurrent:!0}}),n().grade.findMany({select:{id:!0,name:!0,sessionId:!0}}),n().class.findMany({select:{id:!0,name:!0,gradeId:!0}}),n().subject.findMany({select:{id:!0,name:!0}}),n().teacher.findMany({select:{id:!0,surname:!0,name:!0}}),n().parent.findMany({select:{id:!0,name:!0}}),n().term.findMany({select:{id:!0,name:!0,sessionId:!0}}),n().classRecord.findMany({include:{student:!0,class:!0,term:!0,session:!0,teacher:!0,histories:!0}}),n().paymentHistory.findMany({select:{id:!0,studentId:!0,termId:!0,sessionId:!0,amount:!0,status:!0}}),n().studentHistory.findMany({include:{student:!0,results:!0,session:!0,grade:!0,class:!0}}),n().student.findMany({select:{id:!0,firstname:!0,surname:!0}})]);return console.log("✅ Sessions Fetched:",e.length),console.log("✅ Grades Fetched:",t.length),console.log("✅ Classes Fetched:",s.length),console.log("✅ Subjects Fetched:",r.length),console.log("✅ Teachers Fetched:",a.length),console.log("✅ Parents Fetched:",o.length),console.log("✅ Terms Fetched:",c.length),console.log("✅ classRecord Fetched:",i.length),console.log("✅ paymentHistory Fetched:",d.length),console.log("✅ studentHistory Fetched:",l.length),console.log("✅ student Fetched:",u.length),{success:!0,data:{sessions:e,grades:t,classes:s,subjects:r,parents:o,teachers:a,terms:c,classRecord:i,paymentHistory:d,studentHistory:l,student:u}}}catch(e){return console.error("❌ Prisma Error:",e.message),{success:!1,error:e.message}}}(0,s(56215).D)([o]),(0,r.A)(o,"008a7ca980c81f6515d34e48945911d00e5f7e24e0",null)},31072:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GET:()=>n});var r=s(88977);s(98063);var a=s(87153);async function n(){try{console.log("\uD83D\uDFE1 Fetching database data...");let e=await (0,a.G)();console.log("✅ Data fetched successfully:",e);let t=JSON.parse(JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t));return Response.json(t,{status:200})}catch(e){return console.error("❌ Server Error:",e),Response.json({success:!1,error:e.message},{status:500})}}(0,s(56215).D)([n]),(0,r.A)(n,"00f9076d0cca44c2e2d4e1b6823b0a5baf40c7bb2a",null)},84574:(e,t,s)=>{"use strict";let r;let{PrismaClient:a}=s(96330);r=new a,e.exports=r}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[5994,2761],()=>s(37630));module.exports=r})();