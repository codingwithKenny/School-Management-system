(()=>{var e={};e.id=6138,e.ids=[6138],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},77598:e=>{"use strict";e.exports=require("node:crypto")},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},79058:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=t(70260),a=t(28203),l=t(25155),n=t.n(l),o=t(67292),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(s,i);let d=["",{children:["(dashboard)",{children:["list",{children:["resultoverview",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,70563)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\(dashboard)\\list\\resultoverview\\page.jsx"]}]},{}]},{loading:[()=>Promise.resolve().then(t.bind(t,7951)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\(dashboard)\\list\\loading.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,39860)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\(dashboard)\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,62804)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\(dashboard)\\list\\resultoverview\\page.jsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/list/resultoverview/page",pathname:"/list/resultoverview",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},67997:(e,s,t)=>{Promise.resolve().then(t.bind(t,93559))},63261:(e,s,t)=>{Promise.resolve().then(t.bind(t,83931))},96487:()=>{},78335:()=>{},26008:(e,s,t)=>{"use strict";t.d(s,{default:()=>a.a});var r=t(87801),a=t.n(r)},83931:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});var r=t(45512),a=t(58009),l=t(30999);let n=({allResult:e,sessions:s,subject:t})=>{let[n,o]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[u,p]=(0,a.useState)([]),{databaseData:x}=(0,l.t)(),[h,b]=(0,a.useState)(!1),g=x.grades||[],j=x.studentHistory.map(e=>e.results),f=s.find(e=>e.id===Number(n)),v=f?f.terms:[],y=()=>{if(b(!0),n&&i&&c){let s=e.data.filter(e=>e.sessionId===Number(n)&&e.termId===Number(i)&&e.subjectId===Number(c));p((0===s.length?j.find(e=>e.some(e=>e.sessionId===Number(n)&&e.termId===Number(i)&&e.subjectId===Number(c))):s)||[])}b(!1)};return(0,r.jsxs)("div",{className:"px-6 py-8 max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between gap-8",children:[(0,r.jsxs)("div",{className:"w-full sm:w-1/3 text-center",children:[(0,r.jsx)("label",{htmlFor:"session",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Session"}),(0,r.jsxs)("select",{id:"session",className:"block w-full p-2.5 border rounded-lg mt-2 text-sm focus:ring-2 focus:ring-blue-600 focus:outline-none",value:n,onChange:e=>{o(e.target.value),y()},children:[(0,r.jsx)("option",{value:"",children:"-- Select Session --"}),s.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),n&&v.length>0&&(0,r.jsxs)("div",{className:"w-full sm:w-1/3 text-center",children:[(0,r.jsx)("label",{htmlFor:"term",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Term"}),(0,r.jsxs)("select",{id:"term",className:"block w-full p-2.5 border rounded-lg mt-2 text-sm focus:ring-2 focus:ring-blue-600 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",value:i,onChange:e=>{d(e.target.value),y()},children:[(0,r.jsx)("option",{value:"",children:"-- Select Term --"}),v.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"w-full sm:w-1/3 text-center",children:[(0,r.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Subject"}),(0,r.jsxs)("select",{id:"subject",className:"block w-full p-2.5 border rounded-lg mt-2 text-sm focus:ring-2 focus:ring-blue-600 focus:outline-none",value:c,onChange:e=>{m(e.target.value),y()},children:[(0,r.jsx)("option",{value:"",children:"-- Select Subject --"}),t.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{onClick:y,disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none",children:h?"loading Results":"Load Results"})}),(0,r.jsx)("div",{className:"mt-6",children:g.map(e=>{let s=u.filter(s=>s.gradeId===e.id);return s.length>0?(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:e.name}),(0,r.jsxs)("table",{className:"min-w-full table-auto border-collapse shadow-md rounded-lg",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-200 text-sm font-semibold text-gray-700",children:[(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Student Name"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"CA1"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"CA2"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Exam"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Grade"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Session"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Term"}),(0,r.jsx)("th",{className:"px-4 py-2 border-b",children:"Subject"})]})}),(0,r.jsx)("tbody",{className:"text-sm text-gray-600",children:s.map((s,a)=>(0,r.jsxs)("tr",{className:`hover:bg-gray-100 ${a%2==0?"bg-white":"bg-gray-50"}`,children:[(0,r.jsxs)("td",{className:"px-4 py-3 border-b",children:[s.student.surname," ",s.student.firstname]}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:s.firstAssessment}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:s.secondAssessment}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:s.examScore}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:e.name}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:f?.name}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:s.term.name}),(0,r.jsx)("td",{className:"px-4 py-3 border-b",children:t.find(e=>e.id===s.subjectId)?.name})]},s.id))})]})]},e.id):null})})]})}},7951:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(62740);t(76301);let a=()=>(0,r.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:"Loading..."})},70563:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(62740),a=t(93559),l=t(5329),n=t(92411),o=t(84574),i=t.n(o);t(76301);let d=async()=>{let{role:e,userId:s}=await (0,n.HW)();console.log(s,"current user");let t=await i().session.findMany({include:{terms:!0}}),o=await (0,l.oW)(),d=await (0,l.yx)();return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-center",children:"RESULT"}),"admin"==e&&(0,r.jsx)(a.default,{allResult:o,sessions:t,subject:d})]})}},93559:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\Programing\\\\School Management System\\\\school\\\\src\\\\components\\\\AdminResultAction.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\components\\AdminResultAction.jsx","default")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[5994,2761,9187,1596,8077,7801,5103,6919,1237,9251],()=>t(79058));module.exports=r})();