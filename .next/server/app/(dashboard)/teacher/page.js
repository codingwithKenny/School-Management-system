(()=>{var e={};e.id=6267,e.ids=[6267],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},77598:e=>{"use strict";e.exports=require("node:crypto")},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},55164:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>i});var r=t(70260),a=t(28203),l=t(25155),n=t.n(l),o=t(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(s,d);let i=["",{children:["(dashboard)",{children:["teacher",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4510)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\(dashboard)\\teacher\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,39860)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\(dashboard)\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,62804)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\(dashboard)\\teacher\\page.jsx"],m={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/teacher/page",pathname:"/teacher",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},36961:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,71066,23)),Promise.resolve().then(t.t.bind(t,75197,23)),Promise.resolve().then(t.t.bind(t,94303,23)),Promise.resolve().then(t.t.bind(t,66690,23)),Promise.resolve().then(t.bind(t,84327)),Promise.resolve().then(t.bind(t,93026)),Promise.resolve().then(t.bind(t,20389))},50113:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,41902,23)),Promise.resolve().then(t.t.bind(t,87801,23)),Promise.resolve().then(t.bind(t,65771)),Promise.resolve().then(t.bind(t,86054)),Promise.resolve().then(t.bind(t,77028)),Promise.resolve().then(t.bind(t,80766)),Promise.resolve().then(t.bind(t,27041))},80766:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(45512),a=t(45103),l=t(58009),n=t(13289),o=t(84288),d=t(12692),i=t(15913),c=t(79334);let m=(0,n.default)(()=>Promise.all([t.e(6868),t.e(6131),t.e(6543),t.e(9260),t.e(7544)]).then(t.bind(t,97544)),{loadableGenerated:{modules:["components\\FormModal.jsx -> ./Forms/TeachersForm"]},loading:()=>(0,r.jsx)("h1",{children:"Loading..."})}),h=(0,n.default)(()=>Promise.all([t.e(6868),t.e(6131),t.e(6543),t.e(9260),t.e(4196)]).then(t.bind(t,74196)),{loadableGenerated:{modules:["components\\FormModal.jsx -> ./Forms/StudentForm"]},loading:()=>(0,r.jsx)("h1",{children:"Loading..."})}),u=(0,n.default)(()=>Promise.all([t.e(6868),t.e(6543),t.e(3889)]).then(t.bind(t,16270)),{loadableGenerated:{modules:["components\\FormModal.jsx -> ./Forms/SubjectForm"]},loading:()=>(0,r.jsx)("h1",{children:"Loading..."})}),x=(0,n.default)(()=>Promise.all([t.e(6868),t.e(4351)]).then(t.bind(t,34351)),{loadableGenerated:{modules:["components\\FormModal.jsx -> ./Forms/ClassteacherForm"]},loading:()=>(0,r.jsx)("h1",{children:"Loading..."})}),p=(0,n.default)(()=>Promise.all([t.e(6868),t.e(6131),t.e(6543),t.e(9260),t.e(4020)]).then(t.bind(t,94020)),{loadableGenerated:{modules:["components\\FormModal.jsx -> ./Forms/AdminForm"]},loading:()=>(0,r.jsx)("h1",{children:"Loading..."})}),g={teacher:(e,s,t)=>(0,r.jsx)(m,{type:s,data:t,setOpen:e}),student:(e,s,t)=>(console.log("Data passed to StudentForm:",t),(0,r.jsx)(h,{type:s,data:t,setOpen:e})),subject:(e,s,t)=>(0,r.jsx)(u,{type:s,data:t,setOpen:e}),classTeacher:(e,s,t,a)=>(0,r.jsx)(x,{type:s,data:t,memoizedClasses:a||[],setOpen:e}),admin:(e,s)=>(0,r.jsx)(p,{type:e,data:s})},f={teacher:o.q,student:d.L,subject:i.g},b=({table:e,type:s,data:t,id:n,memoizedClasses:o})=>{let[d,i]=(0,l.useState)(!1),[m,h]=(0,l.useState)({success:!1,error:!1}),u=(0,c.useRouter)(),x=async()=>{if(!n)return console.error(`No ID provided for ${e} deletion.`);try{console.log(`Deleting ${e} with ID:`,n);let s=f[e];if(!s)return console.error(`No delete function for ${e}.`);(await s(n)).success?(console.log(`${e.charAt(0).toUpperCase()+e.slice(1)} successfully deleted.`),h({success:!0,error:!1}),i(!1),u.refresh()):(console.error(`Failed to delete ${e}.`),h({success:!1,error:!0}))}catch(s){console.error(`Error deleting ${e}:`,s),h({success:!1,error:!0})}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:`${"create"===s?"w-7 h-7":"w-8 h-8"} rounded-full flex items-center justify-center`,style:{backgroundColor:"create"===s?"#FAE27C":"update"===s?"#C3EBFA":"#CFCEFF"},onClick:()=>i(!0),children:(0,r.jsx)(a.default,{src:`/${s}.png`,alt:"",width:16,height:16})}),d&&(0,r.jsx)("div",{className:"w-screen h-screen absolute top-0 left-0 bg-black bg-opacity-60 z-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"rounded-md bg-white p-4 relative w-[90%] md:w-[70%] lg:w-[60%] xl:w-[50%] 2xl:w-[40%]",children:["delete"===s&&n?(0,r.jsxs)("div",{className:"p-4 flex flex-col gap-4",children:[(0,r.jsxs)("span",{className:"text-center font-medium",children:["This ",e," will be deactivated. Are you sure?"]}),(0,r.jsx)("button",{className:"bg-red-500 text-white py-2 px-4 rounded-md border-none self-center w-max",onClick:x,children:"Delete"}),m.error&&(0,r.jsx)("p",{className:"text-red-500 text-center",children:"Failed to delete. Try again."})]}):g[e]?.(i,s,t,o)||(0,r.jsx)("h1",{children:"Invalid Form"}),(0,r.jsx)("div",{className:"absolute top-12 right-4 cursor-pointer",onClick:()=>i(!1),children:(0,r.jsx)(a.default,{src:"/close.png",alt:"Close",width:10,height:10})})]})})]})}},84237:(e,s,t)=>{"use strict";t.d(s,{default:()=>a.a});var r=t(50972),a=t.n(r)},50972:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return a}});let r=t(73264)._(t(14092));function a(e,s){var t;let a={};"function"==typeof e&&(a.loader=e);let l={...a,...s};return(0,r.default)({...l,modules:null==(t=l.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},94303:(e,s,t)=>{let{createProxy:r}=t(73439);e.exports=r("C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\node_modules\\next\\dist\\shared\\lib\\lazy-dynamic\\dynamic-bailout-to-csr.js")},14092:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return i}});let r=t(62740),a=t(76301),l=t(94303),n=t(66690);function o(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},i=function(e){let s={...d,...e},t=(0,a.lazy)(()=>s.loader().then(o)),i=s.loading;function c(e){let o=i?(0,r.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,d=!s.ssr||!!s.loading,c=d?a.Suspense:a.Fragment,m=s.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.PreloadChunks,{moduleIds:s.modules}),(0,r.jsx)(t,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(t,{...e})});return(0,r.jsx)(c,{...d?{fallback:o}:{},children:m})}return c.displayName="LoadableComponent",c}},66690:(e,s,t)=>{let{createProxy:r}=t(73439);e.exports=r("C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\node_modules\\next\\dist\\shared\\lib\\lazy-dynamic\\preload-chunks.js")},4510:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(62740),a=t(84237),l=t(35635),n=t(20308),o=t(19561),d=t(31831),i=t(84574),c=t.n(i),m=t(5329);let h=(0,a.default)(()=>t.e(2674).then(t.bind(t,92674)),{loadableGenerated:{modules:["app\\(dashboard)\\teacher\\page.jsx -> @/components/Annoucement"]}}),u=(0,a.default)(()=>Promise.resolve().then(t.bind(t,84327)),{loadableGenerated:{modules:["app\\(dashboard)\\teacher\\page.jsx -> @/components/BigCalendar"]}});(0,a.default)(()=>Promise.resolve().then(t.bind(t,93026)),{loadableGenerated:{modules:["app\\(dashboard)\\teacher\\page.jsx -> @/components/FormModal"]}});let x=(0,a.default)(()=>Promise.resolve().then(t.bind(t,20389)),{loadableGenerated:{modules:["app\\(dashboard)\\teacher\\page.jsx -> @/components/Performance"]}});async function p(){let{userId:e}=await (0,o.j)();e||(0,d.redirect)("/sign-in");let s=await c().session.findFirst({orderBy:{id:"desc"},select:{id:!0,name:!0}}),t=await c().teacher.findUnique({where:{id:e},include:{subjects:{include:{subject:!0}},classes:!0}});return(console.log(t.subjects.lenght),console.log((await (0,m.wY)(s.id)).name),t)?(0,r.jsxs)("div",{className:"p-6 space-y-6 bg-purple-100 min-h-screen",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 flex items-center gap-6",children:[(0,r.jsx)(l.default,{src:t.img||"/noAvatar.png",alt:"Teacher Avatar",width:120,height:120,className:"w-32 h-32 rounded-full object-cover border"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:t.name})}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"A dedicated educator fostering academic excellence."}),(0,r.jsx)("h3",{className:"text-sm font-bold",children:t.role||"Teacher"})]})]}),(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mt-6",children:[(0,r.jsx)("h2",{className:"text-sm text-purple-500 font-semibold mb-4",children:"Personal Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"First Name"}),(0,r.jsx)("p",{className:"text-gray-800 font-semibold text-[14px]",children:t.name||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Last Name"}),(0,r.jsx)("p",{className:"text-gray-800 font-semibold text-[14px]",children:t.surname||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Email Address"}),(0,r.jsx)("p",{className:"text-gray-800 font-semibold text-[14px]",children:t.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Phone Number"}),(0,r.jsx)("p",{className:"text-gray-800 font-semibold text-[14px]",children:t.phone||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"Session"}),(0,r.jsx)("p",{className:"text-gray-800 font-semibold text-[14px]",children:s.name||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-gray-600 text-sm font-medium",children:"User Role"}),(0,r.jsx)("p",{className:"text-gray-800 font-semibold text-[14px]",children:t.role||"Teacher"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 flex items-center gap-3",children:[(0,r.jsx)(l.default,{src:"/singleAttendance.png",alt:"Attendance",width:28,height:28}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"---%"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Attendance"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 flex items-center gap-3",children:[(0,r.jsx)(l.default,{src:"/singleBranch.png",alt:"Branches",width:28,height:28}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"--"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Branches"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 flex items-center gap-3",children:[(0,r.jsx)(l.default,{src:"/singleLesson.png",alt:"Lessons",width:28,height:28}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"--"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Subject"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 flex items-center gap-3",children:[(0,r.jsx)(l.default,{src:"/singleClass.png",alt:"Classes",width:28,height:28}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"---"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Classes"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Teacherâ€™s Schedule"}),(0,r.jsx)(u,{})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Links"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[(0,r.jsx)(n.default,{href:"/",className:"p-3 rounded-md bg-gray-100 hover:bg-gray-200",children:"Classes"}),(0,r.jsx)(n.default,{href:"/list/teachers?studentId=2",className:"p-3 rounded-md bg-gray-100 hover:bg-gray-200",children:"Students"}),(0,r.jsx)(n.default,{href:"/",className:"p-3 rounded-md bg-gray-100 hover:bg-gray-200",children:"Lessons"}),(0,r.jsx)(n.default,{href:"/",className:"p-3 rounded-md bg-gray-100 hover:bg-gray-200",children:"Exams"}),(0,r.jsx)(n.default,{href:"/",className:"p-3 rounded-md bg-gray-100 hover:bg-gray-200",children:"Assignments"})]})]}),(0,r.jsx)(x,{}),(0,r.jsx)(h,{})]}):(0,r.jsx)("div",{className:"text-center text-red-500",children:"Error: Teacher not found!"})}},93026:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\Programing\\\\School Management System\\\\school\\\\src\\\\components\\\\FormModal.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\components\\FormModal.jsx","default")},12692:(e,s,t)=>{"use strict";t.d(s,{L:()=>a});var r=t(26248);let a=(0,r.createServerReference)("7f2303b054e6e0cb315ec5c1d9aa5d52ec27c8241d",r.callServer,void 0,r.findSourceMapURL,"deleteStudent")},15913:(e,s,t)=>{"use strict";t.d(s,{g:()=>a});var r=t(26248);let a=(0,r.createServerReference)("7fe1331afc087c56e2cdd1483c6d40ec0634d1df29",r.callServer,void 0,r.findSourceMapURL,"deleteSubject")},84288:(e,s,t)=>{"use strict";t.d(s,{q:()=>a});var r=t(26248);let a=(0,r.createServerReference)("7ffbcf8ec68b2cfdb180be3e72c5e455ffa9f249ff",r.callServer,void 0,r.findSourceMapURL,"deleteTeacher")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[5994,2761,9187,1596,8077,7801,5103,7888,2672,4362,4746,6919,1237,2657,5658],()=>t(55164));module.exports=r})();