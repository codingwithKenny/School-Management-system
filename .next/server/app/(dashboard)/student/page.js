"use strict";(()=>{var e={};e.id=1534,e.ids=[1534],e.modules={96330:e=>{e.exports=require("@prisma/client")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{e.exports=require("crypto")},33873:e=>{e.exports=require("path")},79551:e=>{e.exports=require("url")},77598:e=>{e.exports=require("node:crypto")},73024:e=>{e.exports=require("node:fs")},76760:e=>{e.exports=require("node:path")},46618:(e,s,t)=>{t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o});var a=t(70260),r=t(28203),l=t(25155),d=t.n(l),n=t(67292),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(s,i);let o=["",{children:["(dashboard)",{children:["student",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,77111)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\(dashboard)\\student\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,39860)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\(dashboard)\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,62804)),"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\app\\(dashboard)\\student\\page.jsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(dashboard)/student/page",pathname:"/student",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},77111:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(62740),r=t(92674),l=t(84327),d=t(20389),n=t(35635),i=t(19561),o=t(20308);t(76301);var c=t(31831),m=t(84574),x=t.n(m);let h=async()=>{let{userId:e}=await (0,i.j)();e||(0,c.redirect)("/sign-in");let s=await x().student.findUnique({where:{id:e},select:{surname:!0,firstname:!0,admission:!0,paymentStatus:!0,img:!0,email:!0,term:{select:{id:!0,name:!0}},phone:!0,class:{select:{id:!0,name:!0,grade:{select:{name:!0}}}}}});console.log(s);let t=await x().subject.count({where:{students:{some:{studentId:e}}}}),m=await x().session.findFirst({orderBy:{id:"desc"},select:{name:!0}});return(await x().class.findFirst({where:{students:{some:{id:e}}},select:{name:!0,grade:{select:{name:!0}}}}),s)?(0,a.jsxs)("div",{className:"flex-1 p-6 flex flex-col xl:flex-row gap-6 items-stretch",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-6 w-full xl:w-2/3",children:[(0,a.jsx)("div",{className:"flex flex-col lg:flex-row gap-6 items-stretch",children:(0,a.jsxs)("div",{className:"bg-gradient-to-r from-white to-purple-300 p-6 flex flex-col md:flex-row gap-6 shadow-md w-full items-center md:items-start",children:[(0,a.jsx)("div",{className:"w-32 h-32 md:w-48 md:h-48 rounded-full overflow-hidden",children:(0,a.jsx)("img",{src:s.img,alt:"Student Profile",className:"w-full h-full object-cover object-center block"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 w-full md:w-2/3 text-center md:text-left",children:[(0,a.jsxs)("h1",{className:"text-lg font-bold text-gray-800 capitalize",children:[s.surname," ",s.name]}),(0,a.jsx)("span",{className:`px-4 py-2 rounded-md w-40 text-center text-xl font-bold shadow-md ${"Paid"===s.paymentStatus?"bg-green-200 text-green-800":"NOT_PAID"===s.paymentStatus?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,children:s.paymentStatus||"Unknown"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Welcome back! Stay focused and keep learning!"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm font-medium justify-center md:justify-start",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.default,{src:"/date.png",alt:"Session",width:16,height:16}),(0,a.jsxs)("span",{className:"text-gray-700",children:[m?.name||"N/A"," - ",s?.term.name||"Unknown Term"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.default,{src:"/phone.png",alt:"Phone",width:16,height:16}),(0,a.jsx)("span",{className:"text-gray-700",children:s.phone||"N/A"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.default,{src:"/mail.png",alt:"Email",width:16,height:16}),(0,a.jsx)("span",{className:"text-gray-700 break-all",children:s.email})]})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl flex items-center gap-4 shadow-md",children:[(0,a.jsx)(n.default,{src:"/singleAttendance.png",alt:"Attendance",width:24,height:24}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"__%"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Attendance"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl flex items-center gap-4 shadow-md",children:[(0,a.jsx)(n.default,{src:"/singleBranch.png",alt:"Grade",width:24,height:24}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:s.class?.grade?.name}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Grade"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl flex items-center gap-4 shadow-md",children:[(0,a.jsx)(n.default,{src:"/singleLesson.png",alt:"Subjects",width:24,height:24}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:t||"N/A"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Subjects"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl flex items-center gap-4 shadow-md",children:[(0,a.jsx)(n.default,{src:"/singleClass.png",alt:"Class",width:24,height:24}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:s.class?.name||"N/A"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Class"})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 bg-white rounded-xl p-6 shadow-md flex-1",children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-gray-800 text-[#cdd3ff] mb-4",children:"STUDENT TIMETABLE"}),(0,a.jsx)(l.default,{})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-6 w-full xl:w-1/3",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-purple-300",children:"SHORTCUTS"}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3 text-xs text-gray-600",children:[(0,a.jsx)(o.default,{className:"p-3 rounded-md bg-[#ffdcf1] hover:bg-opacity-80",href:"/",children:"Classes"}),(0,a.jsx)(o.default,{className:"p-3 rounded-md bg-[#cdd3ff] hover:bg-opacity-80",href:"/list/teachers?classId=2",children:"Teachers"}),(0,a.jsx)(o.default,{className:"p-3 rounded-md bg-[#ddc2ff] hover:bg-opacity-80",href:"/",children:"Lessons"}),(0,a.jsx)(o.default,{className:"p-3 rounded-md bg-[#e3ffd7] hover:bg-opacity-80",href:"/",children:"Exams"}),(0,a.jsx)(o.default,{className:"p-3 rounded-md bg-[#e4fff6] hover:bg-opacity-80",href:"/",children:"Assignments"}),(0,a.jsx)(o.default,{className:"p-3 rounded-md bg-[#FEFCE8] hover:bg-opacity-80",href:"/",children:"Results"})]})]}),(0,a.jsx)(d.default,{}),(0,a.jsx)(r.default,{})]})]}):(0,a.jsx)("div",{className:"text-center text-red-500",children:"Error: Student not found!"})}},84574:(e,s,t)=>{let a;let{PrismaClient:r}=t(96330);a=new r,e.exports=a}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[5994,2761,9187,1596,8077,7801,5103,7888,2672,4362,4746,1237,5658,1513],()=>t(46618));module.exports=a})();