exports.id=6919,exports.ids=[6919],exports.modules={61482:(e,t,r)=>{let a={unstable_cache:r(20143).e,revalidateTag:r(31679).revalidateTag,revalidatePath:r(31679).revalidatePath,unstable_noStore:r(69246).M,unstable_cacheLife:r(18484).F,unstable_cacheTag:r(63801).z};e.exports=a,t.unstable_cache=a.unstable_cache,t.revalidatePath=a.revalidatePath,t.revalidateTag=a.revalidateTag,t.unstable_noStore=a.unstable_noStore,t.unstable_cacheLife=a.unstable_cacheLife,t.unstable_cacheTag=a.unstable_cacheTag},18484:(e,t,r)=>{"use strict";function a(e){throw Error("cacheLife() is only available with the experimental.dynamicIO config.")}Object.defineProperty(t,"F",{enumerable:!0,get:function(){return a}}),r(29294),r(63033)},63801:(e,t,r)=>{"use strict";function a(...e){throw Error("cacheTag() is only available with the experimental.dynamicIO config.")}Object.defineProperty(t,"z",{enumerable:!0,get:function(){return a}}),r(63033),r(45994)},31679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{revalidatePath:function(){return u},revalidateTag:function(){return c}});let a=r(10436),n=r(42675),i=r(2216),s=r(29294),o=r(63033),l=r(42490);function c(e){return d(e,`revalidateTag ${e}`)}function u(e,t){if(e.length>i.NEXT_CACHE_SOFT_TAG_MAX_LENGTH){console.warn(`Warning: revalidatePath received "${e}" which exceeded max length of ${i.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);return}let r=`${i.NEXT_CACHE_IMPLICIT_TAG_ID}${e}`;return t?r+=`${r.endsWith("/")?"":"/"}${t}`:(0,n.isDynamicRoute)(e)&&console.warn(`Warning: a dynamic page path "${e}" was passed to "revalidatePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`),d(r,`revalidatePath ${e}`)}function d(e,t){let r=s.workAsyncStorage.getStore();if(!r||!r.incrementalCache)throw Error(`Invariant: static generation store missing in ${t}`);let n=o.workUnitAsyncStorage.getStore();if(n){if("cache"===n.type)throw Error(`Route ${r.route} used "${t}" inside a "use cache" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if("unstable-cache"===n.type)throw Error(`Route ${r.route} used "${t}" inside a function cached with "unstable_cache(...)" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if("render"===n.phase)throw Error(`Route ${r.route} used "${t}" during render which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if("prerender"===n.type){let e=Error(`Route ${r.route} used ${t} without first calling \`await connection()\`.`);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(r.route,t,e,n)}else if("prerender-ppr"===n.type)(0,a.postponeWithTracking)(r.route,t,n.dynamicTracking);else if("prerender-legacy"===n.type){n.revalidate=0;let e=new l.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw r.dynamicUsageDescription=t,r.dynamicUsageStack=e.stack,e}}r.revalidatedTags||(r.revalidatedTags=[]),r.revalidatedTags.includes(e)||r.revalidatedTags.push(e),r.pathWasRevalidated=!0}},20143:(e,t,r)=>{"use strict";Object.defineProperty(t,"e",{enumerable:!0,get:function(){return u}});let a=r(2216),n=r(45994),i=r(29294),s=r(63033),o=r(70358),l=0;async function c(e,t,r,n,i,s,l){await t.set(r,{kind:o.CachedRouteKind.FETCH,data:{headers:{},body:JSON.stringify(e),status:200,url:""},revalidate:"number"!=typeof i?a.CACHE_ONE_YEAR:i},{revalidate:i,fetchCache:!0,tags:n,fetchIdx:s,fetchUrl:l})}function u(e,t,r={}){if(0===r.revalidate)throw Error(`Invariant revalidate: 0 can not be passed to unstable_cache(), must be "false" or "> 0" ${e.toString()}`);let a=r.tags?(0,n.validateTags)(r.tags,`unstable_cache ${e.toString()}`):[];(0,n.validateRevalidate)(r.revalidate,`unstable_cache ${e.name||e.toString()}`);let d=`${e.toString()}-${Array.isArray(t)&&t.join(",")}`;return async(...t)=>{let n=i.workAsyncStorage.getStore(),u=s.workUnitAsyncStorage.getStore(),h=(null==n?void 0:n.incrementalCache)||globalThis.__incrementalCache;if(!h)throw Error(`Invariant: incrementalCache missing in unstable_cache ${e.toString()}`);let p=u&&"prerender"===u.type?u.cacheSignal:null;p&&p.beginRead();try{let i=u&&"request"===u.type?u:void 0,p=(null==i?void 0:i.url.pathname)??(null==n?void 0:n.route)??"",g=new URLSearchParams((null==i?void 0:i.url.search)??""),f=[...g.keys()].sort((e,t)=>e.localeCompare(t)).map(e=>`${e}=${g.get(e)}`).join("&"),m=`${d}-${JSON.stringify(t)}`,y=await h.generateCacheKey(m),v=`unstable_cache ${p}${f.length?"?":""}${f} ${e.name?` ${e.name}`:y}`,S=(n?n.nextFetchId:l)??1;if(n){if(n.nextFetchId=S+1,u&&("cache"===u.type||"prerender"===u.type||"prerender-ppr"===u.type||"prerender-legacy"===u.type)){"number"==typeof r.revalidate&&(u.revalidate<r.revalidate||(u.revalidate=r.revalidate));let e=u.tags;if(null===e)u.tags=a.slice();else for(let t of a)e.includes(t)||e.push(t)}let i=u&&"unstable-cache"!==u.type?u.implicitTags:[];if(!(u&&"unstable-cache"===u.type)&&"force-no-store"!==n.fetchCache&&!n.isOnDemandRevalidate&&!h.isOnDemandRevalidate&&!n.isDraftMode){let l=await h.get(y,{kind:o.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:a,softTags:i,fetchIdx:S,fetchUrl:v,isFallback:!1});if(l&&l.value){if(l.value.kind!==o.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${m}`);else{let i=void 0!==l.value.data.body?JSON.parse(l.value.data.body):void 0;return l.isStale&&(n.pendingRevalidates||(n.pendingRevalidates={}),n.pendingRevalidates[m]=s.workUnitAsyncStorage.run({type:"unstable-cache",phase:"render"},e,...t).then(e=>c(e,h,y,a,r.revalidate,S,v)).catch(e=>console.error(`revalidating cache with key: ${m}`,e))),i}}}let l=await s.workUnitAsyncStorage.run({type:"unstable-cache",phase:"render"},e,...t);return n.isDraftMode||c(l,h,y,a,r.revalidate,S,v),l}{if(l+=1,!h.isOnDemandRevalidate){let e=u&&"unstable-cache"!==u.type?u.implicitTags:[],t=await h.get(y,{kind:o.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:a,fetchIdx:S,fetchUrl:v,softTags:e,isFallback:!1});if(t&&t.value){if(t.value.kind!==o.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${m}`);else if(!t.isStale)return void 0!==t.value.data.body?JSON.parse(t.value.data.body):void 0}}let n=await s.workUnitAsyncStorage.run({type:"unstable-cache",phase:"render"},e,...t);return c(n,h,y,a,r.revalidate,S,v),n}}finally{p&&p.endRead()}}}},69246:(e,t,r)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return s}});let a=r(29294),n=r(63033),i=r(10436);function s(){let e=a.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();return e?e.forceStatic?void 0:void(e.isUnstableNoStore=!0,t&&"prerender"===t.type||(0,i.markCurrentScopeAsDynamic)(e,t,"unstable_noStore()")):void 0}},42675:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRouteObjects:function(){return a.getSortedRouteObjects},getSortedRoutes:function(){return a.getSortedRoutes},isDynamicRoute:function(){return n.isDynamicRoute}});let a=r(29009),n=r(28219)},28219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return i}});let a=r(82828),n=/\/\[[^/]+?\](?=\/|$)/;function i(e){return(0,a.isInterceptionRouteAppPath)(e)&&(e=(0,a.extractInterceptionRouteInformation)(e).interceptedRoute),n.test(e)}},29009:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRouteObjects:function(){return n},getSortedRoutes:function(){return a}});class r{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),r}_insert(e,t,a){if(0===e.length){this.placeholder=!1;return}if(a)throw Error("Catch-all must be the last part of the URL.");let n=e[0];if(n.startsWith("[")&&n.endsWith("]")){let r=n.slice(1,-1),s=!1;if(r.startsWith("[")&&r.endsWith("]")&&(r=r.slice(1,-1),s=!0),r.startsWith("…"))throw Error("Detected a three-dot character ('…') at ('"+r+"'). Did you mean ('...')?");if(r.startsWith("...")&&(r=r.substring(3),a=!0),r.startsWith("[")||r.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+r+"').");if(r.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+r+"').");function i(e,r){if(null!==e&&e!==r)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+r+"').");t.forEach(e=>{if(e===r)throw Error('You cannot have the same slug name "'+r+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===n.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+r+'" differ only by non-word symbols within a single dynamic path')}),t.push(r)}if(a){if(s){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');i(this.optionalRestSlugName,r),this.optionalRestSlugName=r,n="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');i(this.restSlugName,r),this.restSlugName=r,n="[...]"}}else{if(s)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');i(this.slugName,r),this.slugName=r,n="[]"}}this.children.has(n)||this.children.set(n,new r),this.children.get(n)._insert(e.slice(1),t,a)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function a(e){let t=new r;return e.forEach(e=>t.insert(e)),t.smoosh()}function n(e,t){let r={},n=[];for(let a=0;a<e.length;a++){let i=t(e[a]);r[i]=a,n[a]=i}return a(n).map(t=>e[r[t]])}},89504:(e,t,r)=>{"use strict";r.d(t,{$v:()=>E});var a=r(76099),n=r(54099),i=r(96290),s=r(22484),o=r(48765),l=r(84970),c=()=>({publishableKey:process.env.CLERK_PUBLISHABLE_KEY||"",clerkJSUrl:process.env.CLERK_JS||"",clerkJSVersion:process.env.CLERK_JS_VERSION||""}),u=()=>({secretKey:process.env.CLERK_SECRET_KEY||"",apiUrl:process.env.CLERK_API_URL||"https://api.clerk.com",apiVersion:process.env.CLERK_API_VERSION||"v1",domain:process.env.CLERK_DOMAIN||"",proxyUrl:process.env.CLERK_PROXY_URL||"",signInUrl:process.env.CLERK_SIGN_IN_URL||"",isSatellite:(0,l.zz)(process.env.CLERK_IS_SATELLITE),jwtKey:process.env.CLERK_JWT_KEY||"",sdkMetadata:{name:"@clerk/clerk-sdk-node",version:"5.1.6",environment:"production"}}),d=e=>{let{clerkClient:t,secretKey:r,publishableKey:a,req:l,options:d}=e,{jwtKey:p,authorizedParties:g,audience:v}=d||{},S=(0,n.tl)(h(l)),b={...u(),...c()},w=(0,o.VK)(d?.isSatellite,S.clerkUrl,b.isSatellite),_=(0,o.VK)(d?.domain,S.clerkUrl)||b.domain,E=d?.signInUrl||b.signInUrl,R=f((0,o.VK)(d?.proxyUrl,S.clerkUrl,b.proxyUrl),S.clerkUrl.toString());if(w&&!R&&!_)throw Error(m);if(w&&!(0,s.RE)(E)&&(0,i.mC)(r||""))throw Error(y);return t.authenticateRequest(S,{audience:v,secretKey:r,publishableKey:a,jwtKey:p,authorizedParties:g,proxyUrl:R,isSatellite:w,domain:_,signInUrl:E})},h=e=>{let t;let r=Object.keys(e.headers).reduce((t,r)=>Object.assign(t,{[r]:e?.headers[r]}),{}),a=e.connection?.encrypted?"https":"http";try{t=new URL(e.url||"",`${a}://clerk-dummy`)}catch(t){throw Error(`Invalid request URL: ${e.url}`)}return new Request(t,{method:e.method,headers:new Headers(r)})},p=(e,t)=>(e.headers&&e.headers.forEach((e,r)=>t.appendHeader(r,e)),g(e,t)),g=(e,t)=>{if(e.headers.get("location")){t.status(307).end();return}if(e.status===n.TD.Handshake)return Error("Clerk: unexpected handshake without redirect")},f=(e,t)=>e&&(0,s._c)(e)&&(0,s.Mv)(e)?new URL(e,t).toString():e,m="Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl",y=`
Invalid signInUrl. A satellite application requires a signInUrl for development instances.
Check if signInUrl is missing from your configuration or if it is not an absolute URL.`,v=e=>{let{clerkClient:t,secretKey:r="",publishableKey:a=""}=e;return (e={})=>async(n,i,s)=>{let o;try{o=await d({clerkClient:t,secretKey:r,publishableKey:a,req:n,options:e})}catch(e){s(e);return}let l=p(o,i);if(l||i.writableEnded){l&&s(l);return}if(o.isSignedIn){n.auth={...o.toAuth(),claims:o.toAuth().sessionClaims},s();return}s(Error("Unauthenticated"))}},S=e=>{let{clerkClient:t,secretKey:r="",publishableKey:a=""}=e;return (e={})=>async(n,i,s)=>{let o;try{o=await d({clerkClient:t,secretKey:r,publishableKey:a,req:n,options:e})}catch(e){s(e);return}let l=p(o,i);if(l||i.writableEnded){l&&s(l);return}n.auth={...o.toAuth(),claims:o.toAuth()?.sessionClaims},s()}},b=e=>(...t)=>(0,a.n)(t[0],{...e,...t[1]});function w(e){let t=(0,a.z)(e),r=S({...e,clerkClient:t}),n=v({...e,clerkClient:t});return Object.assign(t,{expressWithAuth:r,expressRequireAuth:n,verifyToken:b(e)})}var _={},E=new Proxy(_,{get(e,t){if(_.authenticateRequest)return _[t];let r={...u(),...c()};return r.secretKey?(_=w({...r,userAgent:"@clerk/clerk-sdk-node@5.1.6"}))[t]:w({...r,userAgent:"@clerk/clerk-sdk-node@5.1.6"})[t]},set:()=>!1});console.warn("Starting October 8, 2024, the Node SDK is entering a three-month notice period. We encourage everyone to migrate to @clerk/express. For full details, please see our changelog: https://clerk.com/changelog/2024-10-08-express-sdk")}};