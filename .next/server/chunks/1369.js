exports.id=1369,exports.ids=[1369],exports.modules={96487:()=>{},78335:()=>{},26008:(e,s,t)=>{"use strict";t.d(s,{default:()=>l.a});var r=t(87801),l=t.n(r)},95241:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(45512),l=t(58009),a=t(30999),d=t(45103),n=t(20140),c=t(75439),i=t(55394),o=t(88393),m=t(47918),x=t(8711),h=t(68197);let u=({studentPercentage:e})=>{let s=[{name:"Performance",percentage:parseFloat(e)}];return(0,r.jsx)("div",{className:"w-[100%]",children:(0,r.jsx)(n.u,{width:"100%",height:100,children:(0,r.jsxs)(c.E,{data:s,margin:{top:10,right:30,left:0,bottom:5},children:[(0,r.jsx)(i.d,{strokeDasharray:"3 3"}),(0,r.jsx)(o.W,{dataKey:"name"}),(0,r.jsx)(m.h,{}),(0,r.jsx)(x.m,{}),(0,r.jsx)(h.y,{dataKey:"percentage",fill:"#4A90E2",barSize:50})]})})})},b=({filteredResults:e,terms:s,selectedTerm:t,studentInfo:n,selectedSession:c,selectedClass:i,selectedGrade:o})=>{let{databaseData:m}=(0,a.t)(),x=(0,l.useRef)();console.log(n);let h=e=>{if(!e)return"__";let s=e%10,t=e%100;return 1===s&&11!==t?`${e}st`:2===s&&12!==t?`${e}nd`:3===s&&13!==t?`${e}rd`:`${e}th`},b=m.sessions?.find(e=>e.name===c)?.id,j=m.terms?.find(e=>e.id===t)?.name;console.log(m.classRecord,"hereeeeeeeeeeee");let p=(0,l.useMemo)(()=>m.classRecord?.filter(e=>e.studentId===n.id&&e.termId===t&&e.sessionId===b)||[],[m.classRecord,n.id,t,b]);console.log(p,"studentClassRecord");let f=(e,s,t)=>{let r=(parseFloat(e)||0)+(parseFloat(s)||0)+(parseFloat(t)||0);return r>=70?"A1":r>=65?"B2":r>=60?"B3":r>=57?"C4":r>=54?"C5":r>=50?"C6":r>=45?"D7":r>=40?"E8":"F9"};console.log(m.classRecord,"classRecord");let g=(0,l.useMemo)(()=>m.classRecord?.filter(e=>e.class.name===i&&e.sessionId===b&&e.termId===t).length||0,[m.classRecord,i,b,t]),N=(0,l.useMemo)(()=>e.reduce((e,s)=>e+s.totalScore,0),[e]),w=(0,l.useMemo)(()=>100*e.length,[e]),v=w>0?(N/w*100).toFixed(2):0,y=(0,l.useMemo)(()=>m.paymentHistory?.some(e=>e.studentId===n.id&&e.sessionId===b&&e.termId===t&&"PAID"===e.status&&(null!==e.amount||null===e.amount)),[m.paymentHistory,n.id,b,t]);return(0,r.jsx)("div",{className:"p-3 bg-gray-100 relative",children:y?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{ref:x,id:"printable-area",className:"bg-white p-4 shadow-lg border border-gray-300 print:w-full bg-opacity-10",style:{backgroundImage:"url('/logo.png')",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"30%",backgroundColor:"rgba(255, 255, 255, 0.96)",backgroundBlendMode:"lighten"},children:[(0,r.jsxs)("div",{className:"flex flex-wrap justify-between items-center border-b pb-2",children:[(0,r.jsx)(d.default,{src:"/logo.png",width:60,height:60,alt:"School Logo"}),(0,r.jsxs)("div",{className:"text-center flex-1",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold uppercase",children:"MUSLIM COMPREHENSIVE COLLEGE"}),(0,r.jsx)("p",{className:"text-sm italic font-semibold",children:'"ALLAH IS GREAT"'}),(0,r.jsx)("p",{className:"text-xs",children:"Behind Premier Tobacco, Ileko Alafin, Odo Eran, Owode, Oyo"}),(0,r.jsx)("p",{className:"text-xs font-semibold",children:"Call: 09036391952 | Website: www.muslimgroupofschool.com"})]}),(0,r.jsx)(d.default,{src:n?.img||"/default-avatar.png",width:60,height:60,alt:"Student Photo",className:"border p-1"})]}),(0,r.jsxs)("p",{className:"border border-black w-full mt-2 text-center text-sm font-bold uppercase",children:[j," Academic Report"]}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-between border border-black text-xs bg-white p-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Name:"})," ",n?.surname," ",n?.firstname]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Class:"})," ",i]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Admission No:"})," ",n?.admission]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Grade:"})," ",o]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Session:"})," ",c]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Times Present:"})," ____"]})]})]}),(0,r.jsxs)("div",{className:"flex ",children:[(0,r.jsx)("div",{className:" w-[70%]",children:(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-300 text-xs mt-3",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-200 text-center",children:[(0,r.jsx)("th",{className:"border p-1",children:"Subject"}),(0,r.jsx)("th",{className:"border p-1",children:"CA1"}),(0,r.jsx)("th",{className:"border p-1",children:"CA2"}),(0,r.jsx)("th",{className:"border p-1",children:"Exam"}),(0,r.jsx)("th",{className:"border p-1",children:"Total"}),(0,r.jsx)("th",{className:"border p-1",children:"Avg"}),(0,r.jsx)("th",{className:"border p-1",children:"Performance"})]})}),(0,r.jsx)("tbody",{children:e.filter(e=>e.subject).map((e,s)=>(0,r.jsxs)("tr",{className:"text-center border-t",children:[(0,r.jsx)("td",{className:"border p-1 text-left",children:e.subject.name}),(0,r.jsx)("td",{className:"border p-1",children:e.firstAssessment}),(0,r.jsx)("td",{className:"border p-1",children:e.secondAssessment}),(0,r.jsx)("td",{className:"border p-1",children:e.examScore}),(0,r.jsx)("td",{className:"border p-1 font-bold",children:e.totalScore}),(0,r.jsx)("td",{className:"border p-1",children:(e.totalScore/3).toFixed(2)}),(0,r.jsx)("td",{className:"border p-1 font-semibold",children:f(e.firstAssessment,e.secondAssessment,e.examScore)})]},s))})]})}),(0,r.jsx)("div",{className:"w-[30%] ml-4",children:(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-300 text-sm bg-white mt-2",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"bg-gray-200 text-center",children:(0,r.jsxs)("th",{className:"border p-2",children:[" ",(0,r.jsx)("h3",{className:"text-md font-semibold text-center",children:"Affective Skills"})]})})}),(0,r.jsxs)("tbody",{children:[(0,r.jsx)("tr",{className:"text-center border-t",children:(0,r.jsx)("td",{className:"border p-2 text-left",children:"Attentiveness"})}),(0,r.jsx)("tr",{className:"text-center border-t",children:(0,r.jsx)("td",{className:"border p-2 text-left",children:"Neatness"})}),(0,r.jsx)("tr",{className:"text-center border-t",children:(0,r.jsx)("td",{className:"border p-2 text-left",children:"Punctuality"})}),(0,r.jsx)("tr",{className:"text-center border-t",children:(0,r.jsx)("td",{className:"border p-2 text-left",children:"Honesty"})}),(0,r.jsx)("tr",{className:"text-center border-t",children:(0,r.jsx)("td",{className:"border p-2 text-left",children:"Tolerance"})})]})]})})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex flex-wrap justify-around items-center border p-2 text-xs",children:[(0,r.jsxs)("div",{className:"border w-[50%] text-center",children:[p?.map(e=>r.jsxs("p",{className:"italic border border-gray-300 p-1",children:[r.jsx("strong",{children:"Position:"})," ",h(e.position)]},e.id)),"Third Term"===j&&p?.map(e=>r.jsxs("p",{className:"italic border border-gray-300 p-1",children:[r.jsx("strong",{children:"Promotion:"})," ",e.promotion]},e.id)),(0,r.jsxs)("p",{className:"italic border border-gray-300 p-1",children:[(0,r.jsx)("strong",{children:"Total Number in Class:"})," ",g]})]}),(0,r.jsx)("div",{className:"w-[20%] ml-20",children:(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-300 text-xs bg-white",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"bg-gray-200 text-center",children:(0,r.jsx)("th",{className:"border p-1",children:"CO-CURRICULAR"})})}),(0,r.jsxs)("tbody",{children:[(0,r.jsx)("tr",{className:"border-t",children:(0,r.jsx)("td",{className:"border p-1 text-left",children:"Sports"})}),(0,r.jsx)("tr",{className:"border-t",children:(0,r.jsx)("td",{className:"border p-1 text-left",children:"Music"})}),(0,r.jsx)("tr",{className:"border-t",children:(0,r.jsx)("td",{className:"border p-1 text-left",children:"Debate"})}),(0,r.jsx)("tr",{className:"border-t",children:(0,r.jsx)("td",{className:"border p-1 text-left",children:"Honesty"})})]})]})})]})}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-around items-center border p-2 mt-2 text-xs",children:[(0,r.jsx)("div",{className:"border p-2 text-xs mt-2",children:p?.map(e=>r.jsxs("div",{children:[r.jsx("strong",{children:"Teacher's Remark:"}),r.jsx("p",{className:"px-5 pb-10",children:e.remark})]},e.id))}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("strong",{children:"Student Percentage:"}),(0,r.jsxs)("p",{children:[" ",v,"%"]})]}),(0,r.jsxs)("div",{className:"w-70",children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold",children:[n?.name," percentage (%) Chart"]}),(0,r.jsx)(u,{studentPercentage:v})]})]}),(0,r.jsxs)("div",{className:"mt-3 border-t pt-2 text-center text-xs font-semibold",children:[(0,r.jsx)("p",{children:'"We Offer Excellence in Education"'}),(0,r.jsxs)("div",{className:"flex flex-col items-center mt-2",children:[(0,r.jsx)(d.default,{src:"/principalsign.png",alt:"Principal Signature",width:80,height:40}),(0,r.jsx)("div",{className:"w-40 border-b-2 border-black -mt-1"}),(0,r.jsx)("p",{className:"mt-1",children:"Signed:(Principal)"})]})]})]}),(0,r.jsx)("div",{className:"text-center mt-3",children:(0,r.jsx)("button",{onClick:()=>{let e=document.getElementById("printable-area");e&&(e.style.transform="scale(0.85)",e.style.transformOrigin="top left",setTimeout(()=>{window.print(),e.style.transform="scale(1)"},300))},className:"bg-blue-600 text-white px-4 py-1 rounded text-xs hover:bg-blue-700",children:"Print Result"})})," "]}):(0,r.jsxs)("div",{className:"p-4 bg-red-100 text-center text-red-600 font-semibold",children:["Payment for ",j," Term is not complete. Please complete the payment to access the result."]})})},j=({sessions:e,results:s,studentInfo:t,userId:d})=>{let[n,c]=(0,l.useState)(null),[i,o]=(0,l.useState)(null),{databaseData:m}=(0,a.t)(),x=m.studentHistory.find(e=>e.session.id===n&&e.studentId===d),h=e?.find(e=>e.id===n)||null,u=h?.grades?.find(e=>e.id===t?.grade?.id)||x?.grade.id,j=u?.classes?.find(e=>e.id===t?.class?.id)||x?.class.id,p=h?.terms||[],f=h?.name||"Session Not Found",g=u?.name||x?.grade.name||"Grade Not Found",N=j?.name||x?.class.name||"Class Not Found",w=s.filter(e=>e.sessionId===n&&(e.gradeId===u?.id||e.gradeId===x?.grade?.id)&&(e.classId===j?.id||e.classId===x?.class?.id)&&e.termId===i);return(0,r.jsxs)("div",{className:"p-6 bg-purple-100 min-h-screen",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-center mb-6 text-gray-800",children:"\uD83D\uDCC4 CHECK RESULT"}),(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 flex flex-wrap gap-6 justify-between items-center",children:[(0,r.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Select Session"}),(0,r.jsxs)("select",{className:"block w-full p-2 border rounded mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none",value:n||"",onChange:e=>{c(parseInt(e.target.value,10)),o(null)},children:[(0,r.jsx)("option",{value:"",children:"-- Select Session --"}),e.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),u&&(0,r.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Grade:"}),(0,r.jsx)("p",{className:"text-lg font-bold bg-gray-50 shadow-sm rounded p-2 border",children:g})]}),j&&(0,r.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Class:"}),(0,r.jsx)("p",{className:"text-lg font-bold bg-gray-50 shadow-sm rounded p-2 border",children:N})]}),n&&p.length>0&&(0,r.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Select Term"}),(0,r.jsxs)("select",{className:"block w-full p-2 border rounded mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none",value:i||"",onChange:e=>o(parseInt(e.target.value,10)),children:[(0,r.jsx)("option",{value:"",children:"-- Select Term --"}),p.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),i&&w.length>0?(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(b,{filteredResults:w,terms:p,selectedTerm:i,studentInfo:t,selectedSession:f,selectedClass:N,selectedGrade:g,sessions:e})}):i&&(0,r.jsx)("p",{className:"mt-6 text-red-600 font-semibold text-center",children:"⚠️ No results found for the selected term."})]})}},7951:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(62740);t(76301);let l=()=>(0,r.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:"Loading..."})},76854:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\Programing\\\\School Management System\\\\school\\\\src\\\\components\\\\StudentResultView.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\Programing\\School Management System\\school\\src\\components\\StudentResultView.jsx","default")},92411:(e,s,t)=>{"use strict";t.d(s,{F6:()=>a,HW:()=>l,uG:()=>d});var r=t(19561);async function l(){let{userId:e,sessionClaims:s}=await (0,r.j)();return{userId:e,role:s?.metadata?.role||"guest"}}async function a(){let{userId:e}=await l();return e}async function d(){let{role:e}=await l();return e}}};